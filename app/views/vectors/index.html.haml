.container.py-4
  %h1.mb-4 Style Vector Visualization

  %p.text-muted
    Below you see 10 randomly selected documents with their ID, title,
    body snippet, and a score extracted from their style vector.

  .accordion#vectorAccordion
    - @documents.each_with_index do |doc, i|
      - vec = doc.style_vec || []
      - score = vec[3] || 0    # readability as score

      .accordion-item
        %h2.accordion-header{id: "heading-#{i}"}
          %button.accordion-button.collapsed{
            type: "button",
            data: { bs_toggle: "collapse", bs_target: "#collapse-#{i}" },
            aria: { expanded: "false", controls: "collapse-#{i}" }
          }
            = "Document ##{doc.id} â€” #{doc.title.truncate(60)}"

        .accordion-collapse.collapse{
          id: "collapse-#{i}",
          aria: { labelledby: "heading-#{i}" },
          data: { bs_parent: "#vectorAccordion" }
        }
          .accordion-body
            %p
              %strong ID:
              = doc.id

            %p
              %strong Title:
              = doc.title

            %p
              %strong Body:
              = doc.body.truncate(200)

            %p
              %strong Score (Readability):
              = score.round(3)

            %p.small.text-muted
              %strong Full Vector:
              = "[ #{vec.join(', ')} ]"
